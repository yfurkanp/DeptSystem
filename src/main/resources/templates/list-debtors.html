<html lang="en" xmlns:th="http://www.thymeleaf.org">


	<head>
		<title>Borclu Listesi</title>
	  <link th:href="@{/css/main.css}" rel="stylesheet" />
		<link rel="stylesheet" 
			type="text/css" 
			href="https://cdn.datatables.net/v/bs4/dt-1.10.25/datatables.min.css" />
		<link rel="stylesheet" 
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" 
			integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" 
			crossorigin="anonymous" />
	</head>
	
	<body>

		<div class="container">
		
			<h3>Borclu Listesi</h3>
			
			<hr/>
			<a th:href="@{/addDebtors}" class="btn btn-primary">Borclu Ekle</a>
			<!--3) buton týklandýðýnda controller daki /addEmployeeForm path i olan metod tetiklenecek, 
			orada oluþturulan obje sayesinde burada veriler girilebilecek ve iþe yarayacak -->
			<br/><br/>
			<table class="table table-bordered table-striped" id="debtorsTable">
			
				<thead>
					<tr>
						<th>Isim</th>
						<th>Telefon</th>
						<th>Adres</th>
						<th>Borc</th>
						<th>Islemler</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="debtors: ${borclular}"> 
					<!--2) controller dan calisanlar ismiyle gelen verileri burada employee ismiyle kullan-->
						<td th:text="${debtors.Name}" />
						<td th:text="${debtors.Phone}" />
						<td th:text="${debtors.Addres}" />
						<td th:text="${debtors.debt}" />
						<td>
						 <a th:href="@{/showUpdate(debtorId=${debtors.Id})}" class="btn btn-info">Duzenle</a>
							<a th:href="@{/deleteDebtor(debtorId=${debtors.Id})}" class="btn btn-danger ml-2">Sil</a>
							
							<!--buton týklandýðýnda controller a employee.id si, employeeId ismiyle, /deleteEmployee adresi gidiyor  -->
						</td>
					</tr>
				</tbody>
				
			</table>
		</div>
	  	<script type="text/javascript" th:src="@{/js/action.js}"></script> 
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<!-- jQuery, hýzlý, küçük ve zengin özelliklere sahip bir JavaScript kitaplýðýdýr. Çok sayýda 
		tarayýcýda çalýþan kullanýmý kolay bir API ile HTML belgesi geçiþi ve manipülasyonu, olay iþleme, 
		animasyon ve Ajax gibi þeyleri çok daha basit hale getirir.min.js boþluklar çýkarýldý -->
		<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.25/datatables.min.js"></script>
	 	<!-- ilk satýr fix, sonrakiler üstteki linklerden alýnmýþ,aoColumnDefs  -->
	   	<script>
			$(document).ready(function() {
				$("#debtorsTable").DataTable({
						'aoColumnDefs': [{
        				'bSortable': false,/*kendi sýralamasý devre dýþý*/
        				'aTargets': [-1] /*ilk sütunu sýrala,2. için 1 , 3. için 2 */
    				}]
				});
			})
		</script>
	</body>
	
	



</html>